function imgerror(t){t.style.display="none"}function sortCounts(t){var e=[];for(var a in t)e.push([a,t[a]]);return e.sort(function(t,e){return e[1]-t[1]}),e}function switchGunBills(t){console.log("--------------   In switchGunBills()  --------------"),$("#bill-list").empty();var e="data/gunBills"+t+".json",a=[];$(".head-year").text(t),$.getJSON(e).done(function(e){function n(t,e){return pct=e/t*100,pct>90?90:pct<1?1:Math.round(pct)}var r=0,s=[],o=[],i=[],l=[],c=[];$("#bill-list").html(""),$("#bill-groups").empty().html("<strong>View by groups:</strong><br/>"),$("#bill-parties").empty().html("<strong>View by party:</strong><br/>"),$("#bill-tags").empty().html("<strong>View by tags:</strong><br/>"),$.each(e,function(t,e){if("Native Americans"!=e["subjects-top-term"]&&"Animals"!=e["subjects-top-term"]&&"Agriculture and food"!=e["subjects-top-term"]&&"Economics and public finance"!=e["subjects-top-term"]&&"Education"!=e["subjects-top-term"]&&"Energy"!=e["subjects-top-term"]&&"Labor and employment"!=e["subjects-top-term"]&&"Private legislation"!=e["subjects-top-term"]&&"Water resources development"!=e["subjects-top-term"]){r++,s.push(e.status);var n=Date.parse(e.introduced),u="";u+="<div data-date='"+n+"'data-tag='"+e["subjects-top-term"]+"' data-groups='"+e.lobbied+"'  data-party='"+e.sponsor.party+"' class='bill'>",billNumberArray=e.number.split("-"),u+="     <span class='bill-header bill-number'>"+billNumberArray[0].toUpperCase()+"</span>",u+="     <span class='bill-tag'>"+e["subjects-top-term"]+"</span>",a.push(e["subjects-top-term"]),u+=e["short-title"]?"     <p class='bill-name'>"+e["short-title"]+"</p>":"     <p class='bill-name'>"+e.title+"</p>",u+="null"!=e.purpose?"<p class='bill-purpose'>"+e.purpose+"</p>":"<p class='bill-purpose'>No purpose specified</p>";var d=e.introduced.split("-");u+="     <span class='bill-date'><strong>Introduced: </strong>"+monthNames[parseInt(d[1])-1]+" "+d[2]+", "+d[0]+"</span>";var d=e["status-at"].split("-");if(u+="     <span class='bill-date'><strong>Most recent update: </strong>"+monthNames[parseInt(d[1])-1]+" "+d[2]+", "+d[0]+"</span>",u+="     <span class='bill-status'><strong>Status: </strong>"+e.status.join(" => ")+"</span>",$.each(e.lobbied,function(t,e){l.push(e),c.push(e)}),u+="     <span class='sponsor-lobbied'><strong>Lobbied by: </strong> "+e.lobbied.join(", ")+"</span>",u+="<a class='bill-link' href='https://www.govtrack.us/congress/bills/"+billNumberArray[1]+"/"+billNumberArray[0]+"/text' target='_blank'>Read the bill</a>",e.sponsor.last_name){"R"===e.sponsor.party?u+="     <div class='bill-sponsor republican'>":"D"===e.sponsor.party&&(u+="     <div class='bill-sponsor democrat'>"),u+="     <strong>Sponsor</strong>",e.sponsor.govtrack_id&&(u+="     <div class='mugBox clearFix","R"===e.sponsor.party?u+=" mugBoxR ":"D"===e.sponsor.party&&(u+=" mugBoxD "),u+="'><img class='bill-mug' src='https://www.govtrack.us/data/photos/"+e.sponsor.govtrack_id+"-100px.jpeg'/></div>"),i.push(e.sponsor.party),u+="          <span class='sponsor-name'>"+e.sponsor.title+". "+e.sponsor.first_name+" "+e.sponsor.last_name+" ("+e.sponsor.party+"-"+e.sponsor.state+")</span>",u+=e.sponsor.in_office===!0?"<span class='sponsor-status'>Status: In office</span>":"<span class='sponsor-status'>Status: Out of office</span>",e.sponsor.facebook_id&&(u+="<a class='social-buttons' href='https://www.facebook.com/"+e.sponsor.facebook_id+"' target='_blank'>"+facebookSVG+"</a>"),e.sponsor.twitter_id&&(u+="<a class='social-buttons' href='https://www.twitter.com/"+e.sponsor.twitter_id+"' target='_blank'>"+twitterSVG+"</a>"),e.sponsor.youtube_id&&(u+="<a class='social-buttons' href='https://www.youtube.com/"+e.sponsor.youtube_id+"' target='_blank'>"+youtubeSVG+"</a>"),e.sponsor.website&&(u+="<a class='social-buttons' href='"+e.sponsor.website+"' target='_blank'>"+websiteSVG+"</a>"),u+="     </div>";var p={};p.party=e.sponsor.party,p.govtrack=e.sponsor.govtrack_id,p.last_name=e.sponsor.last_name,p.first_name=e.sponsor.first_name,p.in_office=e.sponsor.in_office,o.push(p)}else u+="     <div class='bill-sponsor'>",u+="     <strong>Sponsor</strong>",u+="          <span class='sponsor-name'>No sponsor information available</span>",u+="     </div>";u+="</div>",$("#bill-list").append(u)}}),$divs=$(".bill");var u=$divs.sort(function(t,e){return $(t).attr("data-date")-$(e).attr("data-date")});$("#bill-list").html(u);var d=_.countBy(a),p=[];$.each(d,function(t,e){p.push(t)}),p.sort(),$.each(p,function(t,e){$("#bill-tags").append("<span class='tag' data-tag='"+e+"'>"+e+"</span>")});var g=_.countBy(c),h=[];$.each(g,function(t,e){h.push(t)}),h.sort(),$.each(h,function(t,e){$("#bill-groups").append("<span class='tag' data-group='"+e+"'>"+e+"</span>")});var f=_.countBy(i),b=[];$.each(f,function(t,e){b.push(t)}),b.sort(),$.each(b,function(t,e){$("#bill-parties").append("<span class='tag' data-party='"+e+"'>"+e+"</span>")}),$(".tag").click(function(){if($(this).data("tag")){var t=$(this).data("tag");$(this).toggleClass("selected-tag"),$(".bill").hide(),$("#bill-list").find("[data-tag='"+t+"']").toggleClass("selected-tag"),$(".selected-tag").show()}if($(this).data("party")){var t=$(this).data("party");$(this).toggleClass("selected-tag"),$(".bill").hide(),$("#bill-list").find("[data-party='"+t+"']").toggleClass("selected-tag"),$(".selected-tag").show()}if($(this).data("group")){var t=$(this).data("group");$(this).toggleClass("selected-tag"),$(".bill").hide(),$("#bill-list").find("[data-groups*='"+t+"']").toggleClass("selected-tag"),$(".selected-tag").show()}}),statusCounts=_.countBy(s),lobbiedCounts=_.countBy(l),sponsorCounts=_.countBy(o,function(t){return t.last_name}),statusCounts=sortCounts(statusCounts),f=sortCounts(f),lobbiedCounts=sortCounts(lobbiedCounts),sponsorCounts=sortCounts(sponsorCounts),$(".byOrg").empty().html("<h3>Organizations and the number of bills they lobbied in "+t+"</h3>");var m=lobbiedCounts[0][1];$.each(lobbiedCounts,function(t,e){var a;html="<div class='list-element'>",a=$.inArray(e[0],gunControlGroups)>=0?"gc":"gr",html+="     <span class='list-item'>"+e[0]+"</span>",html+="     <div class='bar-container'>",html+="          <div class='list-bar "+a+"' style='width:"+n(m,e[1])+"%'>&nbsp;</div><div class='bar-number'>"+e[1]+"</div>",html+="     </div>",html+="</div>",$(".byOrg").append(html)}),$(".byStatus").empty().html("<h3>Status breakdown of gun-related legislation introduced in "+t+"</h3>");var v=statusCounts[0][1];$.each(statusCounts,function(t,e){html="<div class='list-element'>";var a=e[0].split(",");html+="     <span class='list-item'>"+a.join(" => ")+"</span>",html+="     <div class='bar-container'>",html+="          <div class='list-bar' style='width:"+n(v,e[1])+"%;background:#BF531B'>&nbsp;</div><div class='bar-number'>"+e[1]+"</div>",html+="     </div>",html+="</div>",$(".byStatus").append(html)}),$(".byParty").empty().html("<h3> Gun-related legislation introduced by party in "+t+"</h3>");var y=f[0][1];$.each(f,function(t,e){switch(html="<div class='list-element'>",e[0]){case"R":html+="     <span class='list-item'>Republican</span>";break;case"D":html+="     <span class='list-item'>Democrat</span>";break;case"I":html+="     <span class='list-item'>Independent</span>";break;default:html+="     <span class='list-item'>Other</span>"}switch(html+="<div class='bar-container'>",e[0]){case"R":html+="<div class='list-bar republican' style='width:"+n(y,e[1])+"%'>&nbsp;</div><div class='bar-number'>"+e[1]+"</div>";break;case"D":html+="<div class='list-bar democrat' style='width:"+n(y,e[1])+"%'>&nbsp;</div><div class='bar-number'>"+e[1]+"</div>";break;default:html+="<div class='list-bar "+e[0]+"' style='width:"+n(y,e[1])+"%'>&nbsp;</div><div class='bar-number'>"+e[1]+"</div>"}html+="     </div>",html+="</div>",$(".byParty").append(html)})})}function buildOrgChart(t){console.log("--------------   In buildOrgChart()  --------------");var e={left:50,right:50,top:40,bottom:40},a=$("#orgChart").width(),n=500,t=d3.csvParse(t),r=d3.max(t,function(t){return parseInt(t["Violence Policy Center"])}),s=d3.min(t,function(t){return parseInt(t.year)}),o=d3.max(t,function(t){return parseInt(t.year)}),i=d3.scaleLinear().domain([s,o]).range([0,a]),l=d3.scaleLinear().domain([0,r]).range([n,0]),c=d3.axisBottom(i).tickFormat(d3.format("")),u=d3.axisLeft(l).tickFormat(d3.format(".2s")),d=d3.select("#orgChart").append("svg").attr("height",n+e.bottom).attr("width",a),p=d.append("g").attr("transform","translate("+e.left+",10)");p.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(c),p.append("g").attr("class","y axis").call(u);var g=t.columns.slice(1).map(function(e){return t.map(function(t){return{key:e,year:t.year,value:t[e]}})}),h=p.selectAll(".serie").data(g).enter().append("g").attr("class","serie");h.append("path").attr("class","line").style("stroke",function(t){return t[0].key}).attr("d",d3.line().x(function(t){return l(t.year)}).y(function(t){return l(t.value)}));var f=d3.line().defined(function(t){if(t.value>0)return t}).y(function(t){return l(t.value)}).x(function(t){return i(t.year)});p.append("path").attr("d",f(t)),p.selectAll(".dot").data(t.filter(function(t){if(t["Violence Policy Center"]>0)return t})).enter().append("circle").attr("class","dot").attr("cx",f.x()).attr("cy",f.y()).attr("r",7)}function swapContent(t){console.log("--------------   In swapContent() with "+t+" --------------"),"gc"===t?(console.log("side = "+t),$(".gr-back").removeClass("gr-back").addClass("gc-back"),$(".gr-dark").removeClass("gr-dark").addClass("gc-dark"),$("#hero-border.gr").removeClass("gr").addClass("gc"),$("#gr-intro").fadeOut("fast",function(){$("#gc-intro").fadeIn()}),$("#total-chart .intro").text(total_gc_content),$("#year-chart .intro").text(annual_gc_content),$("#tree-chart .intro").text(tree_gc_content),$("#bill-breakdown .intro").text(legislation_gc_content),$("#hero-gr").fadeOut(),$("#hero-gc").fadeIn(),fbHead="Losing the battle for guns",storyURL=gcUrl,fbURL=fbgcUrl,leadText="Another mass shooting, another futile attempt at out-flanking the gun lobby.",storyTitle=shareTitle=gcTwitter,storyIMG="http://interactives.dallasnews.com/2016/gun-fight/images/_gcShare.jpg"):(console.log("side = "+t),$(".gc-back").removeClass("gc-back").addClass("gr-back"),$(".gc-dark").removeClass("gc-dark").addClass("gr-dark"),$("#hero-border.gc").removeClass("gc").addClass("gr"),$("#gc-intro").fadeOut("fast",function(){$("#gr-intro").fadeIn()}),$("#total-chart .intro").text(total_gr_content),$("#year-chart .intro").text(annual_gr_content),$("#tree-chart .intro").text(tree_gr_content),$("#bill-breakdown .intro").text(legislation_gr_content),$("#hero-gc").fadeOut(),$("#hero-gr").fadeIn(),fbHead="Lobbyists defending the Second Amendment",storyURL=grUrl,fbURL=fbgrUrl,leadText="Every year the gun lobby spends millions fending off assaults on the Constitution.",storyTitle=shareTitle=grTwitter,storyIMG="http://interactives.dallasnews.com/2016/gun-fight/images/_grShare.jpg"),$("#totalChart .intro").text(["total_"+t+"_content"])}function buildTotalsChart(t,e){console.log("--------------   In buildTotalsChart()  --------------");var a=t+e,n=Math.round(e/a*100);$("#totals-gr-amount").html("$"+d3.format(".2s")(e)),$("#totals-gc-amount").html("$"+d3.format(".2s")(t)),$("#grBar").css("width",n+"%"),$("#gcBar").css("width",100-n+"%")}function buildTreeChart(t){function e(t){$("#treeChart").empty(),d3.select("#treeChart").selectAll(".node").data(t.leaves()).enter().append("div").attr("class","node").attr("group",function(t){var e=t.id,a=e.split(/\r?\n|\r/),n=a[0].substring(a[0].lastIndexOf(".")+1);return n}).attr("expenditure",function(t){return t.value}).style("left",function(t){return t.x0+"px"}).style("top",function(t){return t.y0+"px"}).style("width",function(t){return t.x1-t.x0+"px"}).style("height",function(t){return t.y1-t.y0+"px"}).style("background",function(t){var e=t.id.split(".");return"gr"===e[2]?s[1]:s[0]}).on("mouseover",function(t){console.log("mouseover");var e="<span class='callout-label'>"+$(this).attr("group")+"</span>";e+="$"+o($(this).attr("expenditure")),$(".callout-treemap").html(e),$(".callout-treemap").show(),$(window).width()>=1e3&&$(".callout-treemap-mobile").hide()}).on("mouseout",function(){console.log("mouseout")}).append("div").attr("class","node-label").text(function(t){var e=t.x1-t.x0,a=t.y1-t.y0;if(e>=80&&a>=80)return t.id.substring(t.id.lastIndexOf(".")+1).split(/(?=[A-Z][^A-Z])/g).join("\n")}).append("div").attr("class","node-value").text(function(t){var e=t.x1-t.x0,a=t.y1-t.y0;if(e>=80&&a>=80)return"$"+o(t.value)})}function a(a){console.log("switchData("+a+")");var n=d3.csvParse(t,function(t){var e=t.id.split(".");if(e[1]===a.toString()||1==e.length)return{id:t.id,value:+t.value}});console.log(n);var r=i(n).sum(function(t){return t.value}).sort(function(t,e){return e.height-t.height||e.value-t.value});console.log(r),l(r),e(r)}d3.select("body").append("div").attr("class","tooltip").style("opacity",0);console.log("--------------   In buildTreeChart()  --------------");var n=$("#treeChart").width(),r=500,s=["#88C5F2","#E3C357"],o=d3.format(",.0f"),i=(d3.scaleOrdinal().domain(["gc","gr"]).range(s),d3.stratify().parentId(function(t){return t.id.substring(0,t.id.lastIndexOf("."))})),l=d3.treemap().size([n,r]).padding(1).round(!0),c=d3.csvParse(t,function(t){var e=t.id.split(".");if(e[1]===currentYear||1==e.length)return{id:t.id,value:+t.value}}),u=i(c).sum(function(t){return t.value}).sort(function(t,e){return e.height-t.height||e.value-t.value});l(u),e(u),switchGunBills(currentYear),$(".drop-menu li").click(function(){currentYear=$(this).data("selectedyear"),a(currentYear),switchGunBills(currentYear),console.log(currentYear),$(".pulldown").text(currentYear)})}function buildYearChart(t){console.log("--------------   In buildYearChart()  --------------");var e=$("#yearChart").width(),a=500,n=["#88C5F2","#E3C357"],r=d3.select("#yearChart").append("svg").attr("width",e).attr("height",a),s={top:5,right:0,bottom:17,left:25};e=e-s.left-s.right,a=a-s.top-s.bottom,group=r.append("g").attr("transform","translate("+s.left+","+s.top+")");var o=d3.scaleBand().rangeRound([0,e]).padding(.1).align(.1);o.domain(t.map(function(t){return t.Year}));var i=d3.scaleLinear().rangeRound([a,0]);i.domain([0,d3.max(t,function(t){return t.total})]).nice();var l=d3.scaleOrdinal().range([n[0],n[1]]);l.domain(["Gun Control","Gun Rights"]);var c=d3.stack(),u=["Gun Control","Gun Rights"];group.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+a+")").call(d3.axisBottom(o)),group.append("g").attr("class","axis axis--y").call(d3.axisLeft(i).ticks(10,"s").tickSize(e*-1)).append("text").attr("x",2).attr("y",i(i.ticks(10).pop())).attr("dy","0.35em"),group.selectAll(".serie").data(c.keys(u)(t)).enter().append("g").attr("class","serie").attr("fill",function(t){return l(t.key)}).selectAll("rect").data(function(t){return t}).enter().append("rect").attr("x",function(t){return o(t.data.Year)}).attr("y",function(t){return i(t[1])}).attr("height",function(t){return i(t[0])-i(t[1])}).attr("width",o.bandwidth());var d=$("#hero-gc").width();if(d<500){var p=d3.selectAll(".tick text");p.attr("class",function(t,e){e%2!=0&&d3.select(this).remove()})}var g=group.selectAll(".legend").data(u.reverse()).enter().append("g").attr("class","legend").attr("transform",function(t,e){return"translate(0,"+20*e+")"}).style("font","10px sans-serif");g.append("rect").attr("x",10).attr("y",8).attr("width",18).attr("height",18).attr("fill",l),g.append("text").attr("x",35).attr("y",16).attr("dy",".35em").attr("text-anchor","start").text(function(t){return t})}$(window).load(function(){$("body").dnLoader("remove")}),$(document).ready(function(){$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return e?e[1]||0:"gc"};var t=$.urlParam("side");console.log(t),swapContent(t);var e=$("#hero-gc").height();$("#hero").height(e),$(window).resize(function(){e=$("#hero-gc").height(),$("#hero").height(e)}),$(window).on("scroll",function(){var t=$(this).scrollTop(),e=$(".intro-box").offset().top;e-100<t?$(".fixed-buttons-bar").fadeIn():$(".fixed-buttons-bar").hide()});var a=2e3,n=2017,r={},s={},o=[],l=[];for(i=a;i<=n;i++)$(".drop-menu").append("<li data-selectedYear="+i+">"+i+"</li>");$.getJSON("data/gunOrgSpending.json",function(t){console.log("DATA",t);var e=t.spending[0].gunControl,c=t.spending[1].gunRights;for(i=a;i<=n;i++)$.each(e,function(t,e){$.each(e,function(t,e){o.push(e.name),gunControlGroups.push(e.name)})}),$.each(c,function(t,e){$.each(e,function(t,e){o.push(e.name),gunRightsGroups.push(e.name)})});gunControlGroups=_.uniqBy(gunControlGroups),console.log("GUNCONTROLGROUPS",gunControlGroups),gunRightsGroups=_.uniqBy(gunRightsGroups),console.log("GUNRIGHTSGROUPS",gunRightsGroups),gunOrgCounts=_.countBy(o);var u=["year"];$.each(gunOrgCounts,function(t,e){u.push(t)});var d=u+"\n",p="id,value\n";for(p+="flare,\n",i=a;i<=n;i++){yearArray=[i.toString()],p+="flare."+i.toString()+",\n";var g=!1,h=!1;$.each(t.spending,function(t,e){0===t&&(group="gc",g||(p+="flare."+i.toString()+"."+group+",\n",$.each(e.gunControl[i.toString()],function(t,e){var a=$.inArray(e.name,u);parseInt(e.expenditures)>0&&(yearArray[a]=e.expenditures),p+="flare."+i.toString()+"."+group+"."+e.name+","+e.expenditures+"\n"}),g=!0))}),$.each(t.spending,function(t,e){1===t&&(group="gr",h||(p+="flare."+i.toString()+"."+group+",\n",$.each(e.gunRights[i.toString()],function(t,e){var a=$.inArray(e.name,u);parseInt(e.expenditures)>0&&(yearArray[a]=e.expenditures),p+="flare."+i.toString()+"."+group+"."+e.name+","+e.expenditures+"\n"}),h=!0))}),d+=yearArray+"\n"}for(i=a;i<=n;i++)mainYear={},mainYear.Year=i,s[i]=0,r[i]=0,c[i.toString()].forEach(function(t){s[i.toString()]+=parseInt(t.expenditures)}),e[i.toString()].forEach(function(t){r[i.toString()]+=parseInt(t.expenditures)}),mainYear["Gun Control"]=r[i.toString()],mainYear["Gun Rights"]=s[i.toString()],mainYear.total=parseInt(r[i.toString()])+parseInt(s[i.toString()]),l.push(mainYear);var f=0,b=0;$.each(l,function(t,e){f+=e["Gun Control"],b+=e["Gun Rights"]}),buildTotalsChart(f,b),buildYearChart(l),buildOrgChart(d),buildTreeChart(p)});var c=new Date,u=c.getFullYear();$(".copyright").text(u)});var facebookSVG='<svg class="social" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 100 100"><rect id="square" fill="#D8D8D8" width="100" height="100"/><path id="facebook" fill="#FFFFFF" d="M35.959,40.223h6.034v-5.865c0-2.588,0.065-6.576,1.944-9.046\tc1.979-2.618,4.696-4.397,9.369-4.397c7.611,0,10.818,1.086,10.818,1.086l-1.508,8.942c0,0-2.518-0.728-4.862-0.728\tc-2.351,0-4.448,0.842-4.448,3.188v6.821h9.623l-0.673,8.734h-8.95v30.342H41.994V48.957h-6.034V40.223z"/></svg>',twitterSVG='<svg class="social" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 100 100"><rect id="square" fill="#D8D8D8" width="100" height="100"/><path id="twitter" fill="#FFFFFF" d="M77.877,32.706c-2.051,0.911-4.258,1.525-6.569,1.803c2.362-1.416,4.176-3.659,5.028-6.328\tc-2.212,1.311-4.657,2.26-7.266,2.771c-2.082-2.221-5.058-3.611-8.349-3.611c-6.313,0-11.435,5.126-11.435,11.441\tc0,0.897,0.097,1.767,0.294,2.604c-9.506-0.479-17.932-5.027-23.577-11.955c-0.984,1.696-1.549,3.662-1.549,5.759\tc0,3.962,2.02,7.468,5.089,9.52c-1.874-0.058-3.64-0.576-5.183-1.429v0.141c0,5.544,3.942,10.168,9.178,11.218\tc-0.96,0.269-1.97,0.402-3.015,0.402c-0.737,0-1.456-0.067-2.151-0.202c1.454,4.542,5.677,7.852,10.684,7.941\tc-3.916,3.068-8.848,4.896-14.205,4.896c-0.924,0-1.836-0.052-2.729-0.156c5.062,3.243,11.075,5.138,17.534,5.138\tc21.042,0,32.543-17.429,32.543-32.551c0-0.496-0.01-0.991-0.03-1.479C74.405,37.014,76.348,35.001,77.877,32.706"/></svg>',youtubeSVG='<svg class="social" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 100 100"><rect id="square" fill="#D8D8D8" width="100" height="100"/><path id="youtube" fill="#FFFFFF" d="M60.825,50.137L41.487,61.494V38.776L60.825,50.137z M78.886,60.667V39.546\tc0,0,0-10.181-10.179-10.181h-38.71c0,0-10.173,0-10.173,10.181v21.121c0,0,0,10.181,10.173,10.181h38.71\tC68.707,70.848,78.886,70.848,78.886,60.667"/></svg>',websiteSVG='<svg class="social" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 100 100"><rect id="square" fill="#D8D8D8" width="100" height="100"/><rect id="webbox" x="20" y="29" fill="#FFFFFF" width="59" height="42"/><text transform="matrix(1 0 0 1 24.3213 54.5156)" fill="#D8D8D8" font-family="OpenSans-Bold" font-size="20">www</text></svg>';!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,a){return void 0===a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(a),a}:t(jQuery)}(function(t){t.fn.dnLoader=function(e){var a=this,n="";"display"===e&&(n=a.css("position"),a.addClass("no-scroll").css("position","relative"),t("#dnloader").fadeIn(500)),"remove"===e&&a.removeClass("no-scroll").css("position",n).find(t(".dn-loader-block")).fadeOut(500)}}),$(".button-gc").click(function(){swapContent("gc")}),$(".button-gr").click(function(){swapContent("gr")});var encodedIMGURL=encodeURIComponent(storyIMG),encodedURL=encodeURIComponent(storyURL);$(".fbShare").click(function(){console.log(fbHead+": "+leadText),FB.ui({method:"feed",name:fbHead,link:fbURL,picture:storyIMG,description:leadText})}),$(".twShare").click(function(){console.log("storyURL: "+storyURL),window.open("https://www.twitter.com/intent/tweet?hashtags=2a,guncontrol&text="+leadText+" &via=dallasnews&url="+storyURL+"&image="+encodedIMGURL,"top=200, left=200,width=550,height=420")});
//# sourceMappingURL=scripts-bundle.js.map
